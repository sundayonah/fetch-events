[
   { "inputs": [], "stateMutability": "nonpayable", "type": "constructor" },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": false,
            "internalType": "address",
            "name": "previousAdmin",
            "type": "address"
         },
         {
            "indexed": false,
            "internalType": "address",
            "name": "newAdmin",
            "type": "address"
         }
      ],
      "name": "AdminChanged",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "address",
            "name": "beacon",
            "type": "address"
         }
      ],
      "name": "BeaconUpgraded",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": false,
            "internalType": "address",
            "name": "newBondingCurve",
            "type": "address"
         }
      ],
      "name": "BondingCurveUpdated",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "uint256",
            "name": "poolId",
            "type": "uint256"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "priceChange",
            "type": "uint256"
         }
      ],
      "name": "CircuitBreakerTriggered",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "address",
            "name": "user",
            "type": "address"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
         }
      ],
      "name": "EmergencyWithdrawal",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": false,
            "internalType": "address",
            "name": "newGLPManager",
            "type": "address"
         }
      ],
      "name": "GLPManagerUpdated",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": false,
            "internalType": "address",
            "name": "account",
            "type": "address"
         }
      ],
      "name": "Paused",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "uint256",
            "name": "poolId",
            "type": "uint256"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "startBlock",
            "type": "uint256"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "endBlock",
            "type": "uint256"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "leverageLong",
            "type": "uint256"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "leverageShort",
            "type": "uint256"
         }
      ],
      "name": "PoolCreated",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "uint256",
            "name": "poolId",
            "type": "uint256"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "finalPrice",
            "type": "uint256"
         }
      ],
      "name": "PoolResolved",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "uint256",
            "name": "poolId",
            "type": "uint256"
         },
         {
            "indexed": true,
            "internalType": "address",
            "name": "user",
            "type": "address"
         },
         {
            "indexed": false,
            "internalType": "bool",
            "name": "isLong",
            "type": "bool"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "shares",
            "type": "uint256"
         }
      ],
      "name": "PositionOpened",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": false,
            "internalType": "address",
            "name": "newPriceOracle",
            "type": "address"
         }
      ],
      "name": "PriceOracleUpdated",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "bytes32",
            "name": "role",
            "type": "bytes32"
         },
         {
            "indexed": true,
            "internalType": "bytes32",
            "name": "previousAdminRole",
            "type": "bytes32"
         },
         {
            "indexed": true,
            "internalType": "bytes32",
            "name": "newAdminRole",
            "type": "bytes32"
         }
      ],
      "name": "RoleAdminChanged",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "bytes32",
            "name": "role",
            "type": "bytes32"
         },
         {
            "indexed": true,
            "internalType": "address",
            "name": "account",
            "type": "address"
         },
         {
            "indexed": true,
            "internalType": "address",
            "name": "sender",
            "type": "address"
         }
      ],
      "name": "RoleGranted",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "bytes32",
            "name": "role",
            "type": "bytes32"
         },
         {
            "indexed": true,
            "internalType": "address",
            "name": "account",
            "type": "address"
         },
         {
            "indexed": true,
            "internalType": "address",
            "name": "sender",
            "type": "address"
         }
      ],
      "name": "RoleRevoked",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": false,
            "internalType": "address",
            "name": "account",
            "type": "address"
         }
      ],
      "name": "Unpaused",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "address",
            "name": "implementation",
            "type": "address"
         }
      ],
      "name": "Upgraded",
      "type": "event"
   },
   {
      "anonymous": false,
      "inputs": [
         {
            "indexed": true,
            "internalType": "uint256",
            "name": "poolId",
            "type": "uint256"
         },
         {
            "indexed": true,
            "internalType": "address",
            "name": "user",
            "type": "address"
         },
         {
            "indexed": false,
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
         }
      ],
      "name": "WinningsClaimed",
      "type": "event"
   },
   {
      "inputs": [],
      "name": "ADMIN_ROLE",
      "outputs": [{ "internalType": "bytes32", "name": "", "type": "bytes32" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "CIRCUIT_BREAKER_THRESHOLD",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "DEFAULT_ADMIN_ROLE",
      "outputs": [{ "internalType": "bytes32", "name": "", "type": "bytes32" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "MAX_LEVERAGE",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "MAX_POOL_DURATION",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "MIN_LEVERAGE",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "OPERATOR_ROLE",
      "outputs": [{ "internalType": "bytes32", "name": "", "type": "bytes32" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "bondingCurve",
      "outputs": [
         {
            "internalType": "contract IBondingCurve",
            "name": "",
            "type": "address"
         }
      ],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "uint256", "name": "_poolId", "type": "uint256" },
         {
            "internalType": "uint256",
            "name": "_longPosition",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "_shortPosition",
            "type": "uint256"
         }
      ],
      "name": "calculateWinnings",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "uint256", "name": "_poolId", "type": "uint256" }
      ],
      "name": "claimWinnings",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "uint256",
            "name": "_startBlock",
            "type": "uint256"
         },
         { "internalType": "uint256", "name": "_endBlock", "type": "uint256" },
         {
            "internalType": "uint256",
            "name": "_leverageLong",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "_leverageShort",
            "type": "uint256"
         }
      ],
      "name": "createPool",
      "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "address payable",
            "name": "_recipient",
            "type": "address"
         },
         { "internalType": "uint256", "name": "_amount", "type": "uint256" }
      ],
      "name": "emergencyWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "uint256", "name": "_poolId", "type": "uint256" }
      ],
      "name": "getPoolDetails",
      "outputs": [
         { "internalType": "uint256", "name": "totalLong", "type": "uint256" },
         { "internalType": "uint256", "name": "totalShort", "type": "uint256" },
         { "internalType": "uint256", "name": "startBlock", "type": "uint256" },
         { "internalType": "uint256", "name": "endBlock", "type": "uint256" },
         { "internalType": "bool", "name": "resolved", "type": "bool" },
         {
            "internalType": "uint256",
            "name": "resolutionPrice",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "leverageLong",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "leverageShort",
            "type": "uint256"
         },
         { "internalType": "uint256", "name": "longSlope", "type": "uint256" },
         { "internalType": "uint256", "name": "shortSlope", "type": "uint256" },
         {
            "internalType": "uint256",
            "name": "modeLongBetSize",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "modeShortBetSize",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "lastUpdateBlock",
            "type": "uint256"
         }
      ],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "bytes32", "name": "role", "type": "bytes32" }
      ],
      "name": "getRoleAdmin",
      "outputs": [{ "internalType": "bytes32", "name": "", "type": "bytes32" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "uint256", "name": "_poolId", "type": "uint256" },
         { "internalType": "address", "name": "_user", "type": "address" }
      ],
      "name": "getUserPositions",
      "outputs": [
         {
            "internalType": "uint256",
            "name": "longPosition",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "shortPosition",
            "type": "uint256"
         }
      ],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "glpManager",
      "outputs": [
         {
            "internalType": "contract IGLPManager",
            "name": "",
            "type": "address"
         }
      ],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "bytes32", "name": "role", "type": "bytes32" },
         { "internalType": "address", "name": "account", "type": "address" }
      ],
      "name": "grantRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "bytes32", "name": "role", "type": "bytes32" },
         { "internalType": "address", "name": "account", "type": "address" }
      ],
      "name": "hasRole",
      "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "address",
            "name": "_bondingCurve",
            "type": "address"
         },
         {
            "internalType": "address",
            "name": "_priceOracle",
            "type": "address"
         },
         { "internalType": "address", "name": "_glpManager", "type": "address" }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "uint256", "name": "_poolId", "type": "uint256" },
         { "internalType": "bool", "name": "_isLong", "type": "bool" },
         { "internalType": "uint256", "name": "_amount", "type": "uint256" },
         { "internalType": "uint256", "name": "_minShares", "type": "uint256" }
      ],
      "name": "openPosition",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "pause",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "paused",
      "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "name": "pools",
      "outputs": [
         { "internalType": "uint256", "name": "startBlock", "type": "uint256" },
         { "internalType": "uint256", "name": "endBlock", "type": "uint256" },
         {
            "internalType": "uint256",
            "name": "leverageLong",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "leverageShort",
            "type": "uint256"
         },
         { "internalType": "uint256", "name": "totalLong", "type": "uint256" },
         { "internalType": "uint256", "name": "totalShort", "type": "uint256" },
         { "internalType": "bool", "name": "resolved", "type": "bool" },
         {
            "internalType": "uint256",
            "name": "resolutionPrice",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "lastUpdateBlock",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "initialPrice",
            "type": "uint256"
         },
         { "internalType": "uint256", "name": "longSlope", "type": "uint256" },
         { "internalType": "uint256", "name": "shortSlope", "type": "uint256" },
         {
            "internalType": "uint256",
            "name": "modeLongBetSize",
            "type": "uint256"
         },
         {
            "internalType": "uint256",
            "name": "modeShortBetSize",
            "type": "uint256"
         }
      ],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "priceOracle",
      "outputs": [
         {
            "internalType": "contract IPriceOracle",
            "name": "",
            "type": "address"
         }
      ],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "bytes32", "name": "role", "type": "bytes32" },
         { "internalType": "address", "name": "account", "type": "address" }
      ],
      "name": "renounceRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "uint256", "name": "_poolId", "type": "uint256" }
      ],
      "name": "resolvePool",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "bytes32", "name": "role", "type": "bytes32" },
         { "internalType": "address", "name": "account", "type": "address" }
      ],
      "name": "revokeRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         { "internalType": "bytes4", "name": "interfaceId", "type": "bytes4" }
      ],
      "name": "supportsInterface",
      "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }],
      "stateMutability": "view",
      "type": "function"
   },
   {
      "inputs": [],
      "name": "unpause",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "address",
            "name": "_newBondingCurve",
            "type": "address"
         }
      ],
      "name": "updateBondingCurve",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "address",
            "name": "_newGLPManager",
            "type": "address"
         }
      ],
      "name": "updateGLPManager",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "address",
            "name": "_newPriceOracle",
            "type": "address"
         }
      ],
      "name": "updatePriceOracle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "address",
            "name": "newImplementation",
            "type": "address"
         }
      ],
      "name": "upgradeTo",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
   },
   {
      "inputs": [
         {
            "internalType": "address",
            "name": "newImplementation",
            "type": "address"
         },
         { "internalType": "bytes", "name": "data", "type": "bytes" }
      ],
      "name": "upgradeToAndCall",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
   },
   { "stateMutability": "payable", "type": "receive" }
]
